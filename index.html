<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CrisisLens ‚Äì Verify Before You Share</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:Inter,sans-serif;
  background:#f6f9fc;
  color:#0f172a;
}
header{
  background:#fff;
  border-bottom:1px solid #e5e7eb;
  padding:16px 40px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.logo{font-weight:800;font-size:20px}
.logo span{color:#2563eb}
nav a{
  margin-left:18px;
  text-decoration:none;
  font-weight:600;
  color:#334155;
}
.btn{
  background:#2563eb;
  color:white;
  padding:10px 18px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:600;
}
.hero{
  text-align:center;
  padding:80px 20px 30px;
}
.hero h1{font-size:56px;font-weight:800}
.hero h1 span{color:#2563eb}
.hero p{color:#475569;font-size:18px}

.card{
  background:white;
  max-width:850px;
  margin:40px auto;
  padding:30px;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.06);
}
textarea{
  width:100%;
  height:150px;
  padding:16px;
  border-radius:12px;
  border:1px solid #cbd5e1;
  font-size:16px;
  font-family: sans-serif;
}
.center{text-align:center;margin-top:20px}

#result{
  display:none;
  margin-top:30px;
  border-top:1px solid #e5e7eb;
  padding-top:20px;
}
.bar{
  height:10px;
  border-radius:10px;
  background:#e5e7eb;
  overflow:hidden;
}
.fill{
  height:100%;
  background:#2563eb;
}
.safe{color:#16a34a}
.warn{color:#dc2626}
</style>
</head>

<body>

<header>
  <div class="logo">üõ°Ô∏è Crisis<span>Lens</span></div>
  <nav>
    <a href="#">Home</a>
    <a href="#">How It Works</a>
    <a href="#">Analyze News</a>
    <a href="#">About</a>
  </nav>
</header>

<section class="hero">
  <h1>Stop Misinformation<br><span>During Crisis</span></h1>
  <p>AI-powered credibility check for war, emergencies & disasters</p>
</section>

<section class="card">
  <textarea id="newsInput" placeholder="Paste news text or headline here..."></textarea>
  <div class="center">
    <button class="btn" onclick="analyze()">Check Credibility</button>
  </div>

  <!-- RESULT -->
  <div id="result">
    <h3>Credibility Result</h3>
    <h2 id="finalScore">--%</h2>
    <p id="statusText"></p>

    <p>Source Reliability</p>
    <div class="bar"><div id="b1" class="fill"></div></div>

    <p>Content Consistency</p>
    <div class="bar"><div id="b2" class="fill"></div></div>

    <p>Cross Verification</p>
    <div class="bar"><div id="b3" class="fill"></div></div>

    <ul id="reasons"></ul>
  </div>
</section>

<script>
function analyze(){
  const text = document.getElementById("newsInput").value.toLowerCase().trim();
  if(!text){ alert("Paste some news first"); return; }

  const redFlags=[
    "breaking","urgent","share immediately","secret",
    "lockdown","internet shutdown","government insiders"
  ];

  const found = redFlags.filter(w=>text.includes(w));
  const fake = found.length >= 2;

  let score = fake ? 35 : 85;
  let s1 = fake ? 40 : 90;
  let s2 = fake ? 30 : 85;
  let s3 = fake ? 35 : 80;

  document.getElementById("result").style.display="block";
  document.getElementById("finalScore").innerText = score + "%";

  document.getElementById("statusText").innerHTML =
    fake ? "<b class='warn'>‚ö† Use Caution</b>" : "<b class='safe'>‚úî Safe to Share</b>";

  document.getElementById("b1").style.width = s1+"%";
  document.getElementById("b2").style.width = s2+"%";
  document.getElementById("b3").style.width = s3+"%";

  document.getElementById("reasons").innerHTML =
    found.length ? found.map(w=>`<li>‚ö† Trigger word: ${w}</li>`).join("") :
    "<li>‚úî No major red flags detected</li>";
// üî• Save to Firestore
db.collection("searchHistory").add({
  text: text,
  score: score,
  flags: found,
  breakdown: {
    source: s1,
    consistency: s2,
    verification: s3
  },
  status: fake ? "Use Caution" : "Safe to Share",
  createdAt: firebase.firestore.FieldValue.serverTimestamp()
});

  window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});
}
</script>
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCoPzRMQQR4Q-5qMNKbR5L78vo9OjUHQTs",
    authDomain: "crisis-lens.firebaseapp.com",
    projectId: "crisis-lens",
    storageBucket: "crisis-lens.firebasestorage.app",
    messagingSenderId: "597764507396",
    appId: "1:597764507396:web:f911f0a2fc01178d433251",
    measurementId: "G-6SYENK3EN1"
  };

  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  const db = firebase.firestore();



</body>
</html>
